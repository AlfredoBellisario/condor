#!/usr/bin/env python
import argparse
import numpy
import os
import condor
import condor.utils
from condor.utils.log import log
import condor.utils.tools
import logging
logger = logging.getLogger("Condor")

if __name__ == "__main__":
    parser = argparse.ArgumentParser(description='condor - simulation of single particle X-ray diffraction patterns')
    parser.add_argument('-v', '--verbose', dest='verbose',  action='store_true', help='verbose mode', default=False)
    parser.add_argument('-d', '--debug', dest='debug',  action='store_true', help='debugging mode (even more output than in verbose mode)', default=False)
    args = parser.parse_args()
    if not os.path.exists("./condor.conf"):
        parser.error("Cannot find configuration file \"condor.conf\" in current directory.")
    if args.verbose:
        logger.setLevel("INFO")
    if args.debug:
        logger.setLevel("DEBUG")
    I = condor.utils.tools.Input("./condor.conf")
    O = condor.utils.tools.Output(I)
    log(logger.info, "Writing output to condor.cxi")
    O.write("./condor.cxi", output="all")

    
